<!DOCTYPE html>
<html lang="en">
<head>
    <!-- Required meta tags -->
    <meta charset="utf-8"/>
    <meta
            name="viewport"
            content="width=device-width, initial-scale=1, shrink-to-fit=no"
    />
    <link rel="icon" href="../../assets/img/feviconek.png" type="image/png"/>
    <title>OKVS</title>
    <!-- Bootstrap CSS -->
    <link rel="stylesheet" href="../../assets/css/bootstrap.css"/>
    <link rel="stylesheet" href="../../assets/vendors/linericon/style.css"/>
    <link rel="stylesheet" href="../../assets/css/font-awesome.min.css"/>
    <link rel="stylesheet" href="../../assets/css/themify-icons.css"/>
    <link rel="stylesheet" href="../../assets/vendors/owl-carousel/owl.carousel.min.css"/>
    <link rel="stylesheet" href="../../assets/vendors/lightbox/simpleLightbox.css"/>
    <link rel="stylesheet" href="../../assets/vendors/nice-select/css/nice-select.css"/>
    <link rel="stylesheet" href="../../assets/vendors/animate-css/animate.css"/>
    <link rel="stylesheet" href="../../assets/vendors/jquery-ui/jquery-ui.css"/>
    <!-- main css -->
    <link rel="stylesheet" href="../../assets/css/style.css"/>
    <link rel="stylesheet" href="../../assets/css/responsive.css"/>
</head>

<body>
<!--================Header Menu Area =================-->
<header class="header_area">
    <div class="top_menu">
        <div class="container">
            <div class="row">
                <div class="col-lg-7">
                    <div class="float-left">
                        <p>Phone: +01 256 25 235</p>
                        <p>email: info@eiser.com</p>
                    </div>
                </div>
                <div class="col-lg-5">
                    <div class="float-right">
                        <ul class="right_side">
                            <li>
                                <a href="../cart.html">
                                    gift card
                                </a>
                            </li>
                            <li>
                                <a href="../tracking.html">
                                    track order
                                </a>
                            </li>
                            <li>
                                <a href="../contact.html">
                                    Contact Us
                                </a>
                            </li>
                        </ul>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <div class="main_menu">
        <div class="container">
            <nav class="navbar navbar-expand-lg navbar-light w-100">
                <!-- Brand and toggle get grouped for better mobile display -->
                <a class="navbar-brand logo_h" href="../index.html">
                    <img src="../../assets/img/logo.png" alt=""/>
                </a>
                <button
                        class="navbar-toggler"
                        type="button"
                        data-toggle="collapse"
                        data-target="#navbarSupportedContent"
                        aria-controls="navbarSupportedContent"
                        aria-expanded="false"
                        aria-label="Toggle navigation"
                >
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                    <span class="icon-bar"></span>
                </button>
                <!-- Collect the nav links, forms, and other content for toggling -->
                <div
                        class="collapse navbar-collapse offset w-100"
                        id="navbarSupportedContent"
                >
                    <div class="row w-100 mr-0">
                        <div class="col-lg-7 pr-0">
                            <ul class="nav navbar-nav center_nav pull-right">
                                <li class="nav-item">
                                    <a class="nav-link" href="/user/managementwelcom">Home</a>
                                </li>
                                <li class="nav-item submenu dropdown">
                                    <a
                                            href="#"
                                            class="nav-link dropdown-toggle"
                                            data-toggle="dropdown"
                                            role="button"
                                            aria-haspopup="true"
                                            aria-expanded="false"
                                    >Shop</a
                                    >
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a class="nav-link" href="../category.html"
                                            >Shop Category</a
                                            >
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="../items/single-product.html"
                                            >Product Details</a
                                            >
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="../checkout.html"
                                            >Product Checkout</a
                                            >
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="/category">Shopping Cart</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item submenu dropdown">
                                    <a
                                            href="#"
                                            class="nav-link dropdown-toggle"
                                            data-toggle="dropdown"
                                            role="button"
                                            aria-haspopup="true"
                                            aria-expanded="false"
                                    >Blog</a
                                    >
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a class="nav-link" href="../blog.html">Blog</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="../single-blog.html"
                                            >Blog Details</a
                                            >
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item submenu dropdown">
                                    <a
                                            href="#"
                                            class="nav-link dropdown-toggle"
                                            data-toggle="dropdown"
                                            role="button"
                                            aria-haspopup="true"
                                            aria-expanded="false"
                                    >Pages</a
                                    >
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a class="nav-link" href="../tracking.html">Tracking</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="../elements.html">Elements</a>
                                        </li>
                                    </ul>
                                </li>
                                <li class="nav-item active">
                                    <a class="nav-link" href="../contact.html">Contact</a>
                                </li>
                            </ul>
                        </div>

                        <div class="col-lg-5 pr-0">
                            <ul class="nav navbar-nav navbar-right right_nav pull-right">
                                <li class="nav-item">
                                    <a href="#" class="icons">
                                        <i class="ti-search" aria-hidden="true"></i>
                                    </a>
                                </li>

                                <li class="nav-item">
                                    <a href="#" class="icons">
                                        <i class="ti-shopping-cart"></i>
                                    </a>
                                </li>

                                <li class="nav-item submenu dropdown ">
                                    <a href="#" class="nav-link dropdown-toggle icons" data-toggle="dropdown"
                                       role="button" aria-haspopup="true"
                                       aria-expanded="false"> <i class="ti-user" aria-hidden="true"></i> <label
                                                class="user" style=""></label></a>
                                    <ul class="dropdown-menu">
                                        <li class="nav-item">
                                            <a class="nav-link" href="user/register">Register</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="user/login">Login</a>
                                        </li>
                                        <li class="nav-item">
                                            <a class="nav-link" href="user/management">Manager</a>
                                        </li>
                                    </ul>
                                </li>

                                <li class="nav-item">
                                    <a href="#" class="icons">
                                        <i class="ti-heart" aria-hidden="true"></i>
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
            </nav>
        </div>
    </div>
</header>
<!--================Header Menu Area =================-->

<!--================Home Banner Area =================-->
<section class="banner_area">
    <div class="banner_inner d-flex align-items-center">
        <div class="container">
            <div class="banner_content d-md-flex justify-content-between align-items-center">
                <div class="mb-3 mb-md-0">
                    <h2>Customers Table</h2>
                    <p>Very us move be blessed multiply night</p>
                </div>
                <div class="page_link">
                    <a href="/customer/table">Customers</a>
                    <a href="/order/table">Orders</a>
                    <a href="/item/soulier/table">items view</a>
                    <a href="/item/soulier/add">items add</a>
                    <a href="/managers/table">managers</a>
                    <a href="/item/types">Create Types</a>
                </div>
            </div>
        </div>
    </div>
</section>
<!--================End Home Banner Area =================-->

<!-- ================ contact section start ================= -->

<!-- ================ contact section end ================= -->
<div class="container">
    <table class="table">
        <thead>
        <tr>
            <th>Customer</th>
            <th>Email</th>
            <th>Order Date</th>
            <th>Action</th>

        </tr>
        </thead>
        <tbody>
        {{with .OrderDetails }}
            {{range .}}
                <tr>
                    <td> {{.Customer.Name}} {{.Customer.SurName}}</td>

                    <td><a class="edit nav-link" title="View Customer details" href=""
                           data-toggle="modal" data-target="#customerForm"
                           onclick="GetCustomer({{.Customer.Email}})">{{.Customer.Email}}</a></td>
                    <td> {{.Order.Date}}</td>


                    <td>


                        <ul class="">
                            <li class="nav-item submenu dropdown">
                                <a
                                        href="#"
                                        class="nav-link dropdown-toggle"
                                        data-toggle="dropdown"
                                        role="button"
                                        aria-haspopup="true"
                                        aria-expanded="false"
                                >Select Action</a
                                >
                                <ul class="dropdown-menu">
                                    <li class="nav-item">
                                        <a class="edit nav-link" title="Edit" href=""
                                           data-toggle="modal" data-target="#detailForm"
                                           onclick="DetailForm({{.Items}})">Details</a>

                                    </li>
                                    <li class="nav-item">
                                        <a class="edit nav-link" title="Edit" href=""
                                           data-toggle="modal" data-target="#orderStat"
                                           onclick="OrderStatForm({{.OrderStat}},{{.Status}})">Update</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/order/complete/">Complete</a>
                                    </li>
                                    <li class="nav-item">
                                        <a class="nav-link" href="/order/read-Item-Details/">Check Items</a>
                                    </li>
                                </ul>
                            </li>
                        </ul>

                    </td>

                </tr>
            {{end}}
        {{end}}
        </tbody>
    </table>
</div>
<!--================ start footer Area  =================-->
<footer class="footer-area section_gap">
    <div class="container">
        <div class="row">
            <div class="col-lg-2 col-md-6 single-footer-widget">
                <h4>Top Products</h4>
                <ul>
                    <li><a href="#">Managed Website</a></li>
                    <li><a href="#">Manage Reputation</a></li>
                    <li><a href="#">Power Tools</a></li>
                    <li><a href="#">Marketing Service</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 single-footer-widget">
                <h4>Quick Links</h4>
                <ul>
                    <li><a href="#">Jobs</a></li>
                    <li><a href="#">Brand Assets</a></li>
                    <li><a href="#">Investor Relations</a></li>
                    <li><a href="#">Terms of Service</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 single-footer-widget">
                <h4>Features</h4>
                <ul>
                    <li><a href="#">Jobs</a></li>
                    <li><a href="#">Brand Assets</a></li>
                    <li><a href="#">Investor Relations</a></li>
                    <li><a href="#">Terms of Service</a></li>
                </ul>
            </div>
            <div class="col-lg-2 col-md-6 single-footer-widget">
                <h4>Resources</h4>
                <ul>
                    <li><a href="#">Guides</a></li>
                    <li><a href="#">Research</a></li>
                    <li><a href="#">Experts</a></li>
                    <li><a href="#">Agencies</a></li>
                </ul>
            </div>
            <div class="col-lg-4 col-md-6 single-footer-widget">
                <h4>Newsletter</h4>
                <p>You can trust us. we only send promo offers,</p>
                <div class="form-wrap" id="mc_embed_signup">
                    <form target="_blank"
                          action="https://spondonit.us12.list-manage.com/subscribe/post?u=1462626880ade1ac87bd9c93a&amp;id=92a4423d01"
                          method="get" class="form-inline">
                        <input class="form-control" name="EMAIL" placeholder="Your Email Address"
                               onfocus="this.placeholder = ''"
                               onblur="this.placeholder = 'Your Email Address '" required="" type="email">
                        <button class="click-btn btn btn-default">Subscribe</button>
                        <div style="position: absolute; left: -5000px;">
                            <input name="b_36c4fd991d266f23781ded980_aefe40901a" tabindex="-1" value="" type="text">
                        </div>

                        <div class="info"></div>
                    </form>
                </div>
            </div>
        </div>
        <div class="footer-bottom row align-items-center">
            <p class="footer-text m-0 col-lg-8 col-md-12">
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. -->
                Copyright &copy;<script>document.write(new Date().getFullYear());</script>
                All rights reserved | This template is made with <i class="fa fa-heart-o" aria-hidden="true"></i> by <a
                        href="https://colorlib.com" target="_blank">Colorlib</a>
                <!-- Link back to Colorlib can't be removed. Template is licensed under CC BY 3.0. --></p>
            <div class="col-lg-4 col-md-12 footer-social">
                <a href="#"><i class="fa fa-facebook"></i></a>
                <a href="#"><i class="fa fa-twitter"></i></a>
                <a href="#"><i class="fa fa-dribbble"></i></a>
                <a href="#"><i class="fa fa-behance"></i></a>
            </div>
        </div>
    </div>
</footer>
<!--================ End footer Area  =================-->

<!--================Contact Success and Error message Area =================-->
<div id="success" class="modal modal-message fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fa fa-close"></i>
                </button>
                <h2>Thank you</h2>
                <p>Your message is successfully sent...</p>
            </div>
        </div>
    </div>
</div>


<!--================order stat details and Error message Area =================-->
<div id="orderStat" class="modal modal-message fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="row col-12">
                    <p class="text-center">Order Stat</p>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-close"></i>
                    </button>
                    <!--h2>Thank you</h2>

                    <p>Your message is successfully sent...</p-->
                    <div class="container">
                        <table class="table" id="orderStatmyTable">
                            <thead>
                            <th>Status</th>
                            <th>Modifier</th>
                            <th>Date Modified</th>
                            </thead>
                            <tbody>
                            <tr>

                            </tr>
                            </tbody>
                        </table>
                        <div class="row">
                            <form method="post" action="" class="col-12 justify-content-center">
                                <div class="form-group">
                                    <div class="row">
                                        <label class="col-10 text-left control-label">Change the stat</label>
                                        <div class="col-10 text-center">
                                            <select name="itemType" class="selectpicker text-center"
                                                    data-title="Single Select"
                                                    data-style="btn-default btn-outline"
                                                    data-menu-style="dropdown-blue">
                                                <option disabled selected>Select One Stat</option>
                                                {{with .StatusL}}
                                                    {{range .}}
                                                        <option value={{.Id}}>{{.Stat}}</option>
                                                    {{end}}
                                                {{end}}
                                            </select>
                                        </div>
                                    </div>
                                </div>
                                <div class="col-10 justify-content-center">
                                    <button class="mt-10" id="customerDetais" type="submit"
                                            style="background-color: #FFFFFF; border: #FFFFFF">
                                        <a class="genric-btn primary circle">Add Item</a>
                                    </button>
                                </div>
                            </form>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>


<!--================order details and Error message Area =================-->
<div id="detailForm" class="modal modal-message fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <div class="row">
                    <p>Order Details</p>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-close"></i>
                    </button>
                    <!--h2>Thank you</h2-->

                    <div class="container">
                        <table class="table" id="myTable">
                            <thead>
                            <th>Item Name</th>
                            <th>Description</th>
                            <th>Quantity</th>
                            <th>Price</th>
                            </thead>
                            <tbody>
                            <tr>

                            </tr>
                            </tbody>
                        </table>
                    </div>
                </div>
            </div>
        </div>
    </div>
</div>
<!-- Modals error -->

<div id="error" class="modal modal-message fade" role="dialog">
    <div class="modal-dialog">
        <div class="modal-content">
            <div class="modal-header">
                <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                    <i class="fa fa-close"></i>
                </button>
                <!--add containts here-->
            </div>
        </div>
    </div>
</div>
<!-- Modals error -->

<div id="customerForm" class="modal modal-message fade" role="dialog">
    <div class="row">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <p>Customer Details</p>
                    <button type="button" class="close" data-dismiss="modal" aria-label="Close">
                        <i class="fa fa-close"></i>
                    </button>

                </div>

                <form method="" class="col-12" action="">

                    <label class=" control-label">Name</label>
                    <div class="col-12">
                        <input type="text" id="CustomerName" name="CustomerName" onfocus="this.placeholder = ''"
                               onblur="this.placeholder = 'First Name'"
                               required class="single-input">
                    </div>
                    <label class=" control-label">Surname</label>
                    <div class="col-12">
                        <input type="text" id="CustomerSurName" name="CustomerSurName" onfocus="this.placeholder = ''"
                               onblur="this.placeholder = 'Last Name'"
                               required class="single-input">
                    </div>
                    <label class=" control-label">Status</label>
                    <div class="col-12">
                        <input type="email" id="Statust" name="Statust" onfocus="this.placeholder = ''"
                               onblur="this.placeholder = 'Email address'"
                               required class="single-input">
                    </div>
                    <label class=" control-label">Address</label>
                    <div class="col-12">
                        <input type="email" id="Address" name="Address" onfocus="this.placeholder = ''"
                               onblur="this.placeholder = 'Email address'"
                               required class="single-input">
                    </div>
                    <label class=" control-label">Phone Number</label>
                    <div class="col-12">
                        <input type="email" name="PhoneNumber" id="PhoneNumber" onfocus="this.placeholder = ''"
                               onblur="this.placeholder = 'Email address'"
                               required class="single-input">
                    </div>

                </form>

            </div>
        </div>
    </div>
</div>
<!--================End Contact Success and Error message Area =================-->


<!-- Optional JavaScript -->
<!-- jQuery first, then Popper.js, then Bootstrap JS -->
<script src="../../assets/js/jquery-3.2.1.min.js"></script>
<script src="../../assets/js/popper.js"></script>
<script src="../../assets/js/bootstrap.min.js"></script>
<script src="../../assets/js/stellar.js"></script>
<script src="../../assets/vendors/lightbox/simpleLightbox.min.js"></script>
<script src="../../assets/vendors/nice-select/js/jquery.nice-select.min.js"></script>
<script src="../../assets/vendors/isotope/imagesloaded.pkgd.min.js"></script>
<script src="../../assets/vendors/isotope/isotope-min.js"></script>
<script src="../../assets/vendors/owl-carousel/owl.carousel.min.js"></script>
<script src="../../assets/vendors/jquery-ui/jquery-ui.js"></script>
<script src="../../assets/js/jquery.ajaxchimp.min.js"></script>
<script src="../../assets/js/mail-script.js"></script>
<script src="../../assets/vendors/counter-up/jquery.waypoints.min.js"></script>
<script src="../../assets/vendors/counter-up/jquery.counterup.js"></script>
<!-- contact js -->
<script src="../../assets/js/jquery.form.js"></script>
<script src="../../assets/js/jquery.validate.min.js"></script>
<script src="../../assets/js/contact.js"></script>
<!--gmaps Js-->
<script src="https://maps.googleapis.com/maps/api/js?key=AIzaSyCjCGmQ0Uq4exrzdcL6rvxywDDOvfAu6eE"></script>
<script src="../../assets/js/gmaps.min.js"></script>
<script src="../../assets/js/theme.js"></script>
</body>
<script>
    var table = document.getElementById("myTable");
    var orderStatTable = document.getElementById("orderStatmyTable");

    function DetailForm(app) {
        // table.removeAttribute(tr)
        var i = 0;
        var row;

        var cell1;
        var cell2;
        var cell3;
        var cell4;

        for (var i = table.rows.length - 1; i > 0; i--) {
            table.deleteRow(i);
        }

        for (i = 0; i < app.length; i++) {
            row = table.insertRow(i + 1);

            cell1 = row.insertCell(0);
            cell2 = row.insertCell(1);
            cell3 = row.insertCell(2);
            cell4 = row.insertCell(3);

            cell1.innerHTML = app[i].Item.name;
            cell2.innerHTML = app[i].Item.description;
            cell3.innerHTML = app[i].Quantity;
            cell4.innerHTML = app[i].Price;
        }
    }


    function GetCustomer(custome) {
        const url = "http://localhost:4009/manager/getcustomer/" + custome;
        $.get(url, function (data) {
            document.getElementById("customerForm");
            document.getElementById("CustomerName").value = data.CustomerName;
            document.getElementById("CustomerSurName").value = data.CustomerSurName;
            document.getElementById("Statust").value = data.Statust;
            document.getElementById("Address").value = data.Address;
            document.getElementById("PhoneNumber").value = data.PhoneNumber;
        });
    }

    function OrderStatForm(orderStat, statList) {
        // table.removeAttribute(tr)
        var i = 0;
        var row;

        var cell1;
        var cell2;
        var cell3;
        var cell4;

        for (var i = orderStatTable.rows.length - 1; i > 0; i--) {
            orderStatTable.deleteRow(i);
        }

        for (i = 0; i < orderStat.length; i++) {
            row = orderStatTable.insertRow(i + 1);

            cell1 = row.insertCell(0);
            cell2 = row.insertCell(1);
            cell3 = row.insertCell(2);
            cell4 = row.insertCell(3);


            cell1.innerHTML = orderStat[i].OrderId;
            cell2.innerHTML = orderStat[i].Date;
            cell3.innerHTML = orderStat[i].ModifiedBy;
            cell4.innerHTML = orderStat[i].Stat;
        }

    }
</script>

</html>